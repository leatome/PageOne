{% extends 'base.html.twig' %}

{% block title %}{{ book.title }}{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('css/home.css') }}">
{% endblock %}

{% block body %}
<div class="book-details-container">
    <img src="{{ book.coverUrl }}" alt="{{ book.title }}" class="book-cover">

    <h1 class="book-title">{{ book.title }}</h1>
    <h2 class="book-author">{{ book.author }}</h2>

    {% if is_granted('ROLE_USER') %}
        <div class="mt-3">
            <form id="rating-form">
                <input type="hidden" name="rating" id="rating-value">
                <div id="star-rating" class="fs-3" style="cursor: pointer;"></div>
            </form>
            <div id="average-rating" class="mt-2 text-muted">
                Note moyenne : {{ book.averageRating ?: 'Pas encore de note' }}/5
            </div>
        </div>

        {% include 'book/rating.js.twig' %}
    {% endif %}

    <button class="read-button">Lire</button>

    <div class="book-description">
        {{ book.description }}
    </div>
</div>
{% endblock %}


